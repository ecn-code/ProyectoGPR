CREATE TABLE DEFAULT_SCHEMA.MATERIAL (
       ID_M INTEGER NOT NULL IDENTITY PRIMARY KEY
     , NOMBRE CHAR(10)
     , DESCRIPCION CHAR(100)
     , DISPONIBLES INTEGER
);

CREATE TABLE DEFAULT_SCHEMA.PERSONA (
       DNI CHAR(10) NOT NULL
     , NOMBRE CHAR(10)
     , PASS CHAR(10)
     , PRIMARY KEY (DNI)
);

CREATE TABLE DEFAULT_SCHEMA.AREA (
       NOMBRE_AREA CHAR(10) NOT NULL
     , PRIMARY KEY (NOMBRE_AREA)
);

CREATE TABLE DEFAULT_SCHEMA.INCIDENCIA (
       ID INTEGER NOT NULL IDENTITY PRIMARY KEY
     , NOMBRE CHAR(15)
     , DESCRIPCION CHAR(100)
     , FECHADEENTRADA DATE
);

CREATE TABLE DEFAULT_SCHEMA.OPERARIO (
       DNI CHAR(10) NOT NULL
     , NOMBRE_AREA CHAR(10) NOT NULL
     , PRIMARY KEY (DNI)
     , CONSTRAINT FK_OPERARIO_1 FOREIGN KEY (NOMBRE_AREA)
                  REFERENCES DEFAULT_SCHEMA.AREA (NOMBRE_AREA)
     , CONSTRAINT FK_OPERARIO_2 FOREIGN KEY (DNI)
                  REFERENCES DEFAULT_SCHEMA.PERSONA (DNI)
);

CREATE TABLE DEFAULT_SCHEMA.ORDENDETRABAJO (
       ID INTEGER NOT NULL IDENTITY PRIMARY KEY
     , PRIORIDAD INTEGER
     , ESTADO CHAR(15)
     , DNI CHAR(10) NOT NULL
     , NOMBRE_AREA CHAR(10) NOT NULL
     , CONSTRAINT FK_ORDENDETRABAJO_1 FOREIGN KEY (ID)
                  REFERENCES DEFAULT_SCHEMA.INCIDENCIA (ID)
     , CONSTRAINT FK_ORDENDETRABAJO_2 FOREIGN KEY (DNI)
                  REFERENCES DEFAULT_SCHEMA.OPERARIO (DNI)
     , CONSTRAINT FK_ORDENDETRABAJO_3 FOREIGN KEY (NOMBRE_AREA)
                  REFERENCES DEFAULT_SCHEMA.AREA (NOMBRE_AREA)
);

CREATE TABLE DEFAULT_SCHEMA.JEFE (
       DNI CHAR(10) NOT NULL
     , PRIMARY KEY (DNI)
     , CONSTRAINT FK_JEFE_1 FOREIGN KEY (DNI)
                  REFERENCES DEFAULT_SCHEMA.PERSONA (DNI)
);

CREATE TABLE DEFAULT_SCHEMA.MAESTRO (
       DNI CHAR(10) NOT NULL
     , NOMBRE_AREA CHAR(10) NOT NULL
     , PRIMARY KEY (DNI)
     , CONSTRAINT FK_MAESTRO_1 FOREIGN KEY (DNI)
                  REFERENCES DEFAULT_SCHEMA.PERSONA (DNI)
     , CONSTRAINT FK_MAESTRO_2 FOREIGN KEY (NOMBRE_AREA)
                  REFERENCES DEFAULT_SCHEMA.AREA (NOMBRE_AREA)
);

CREATE TABLE DEFAULT_SCHEMA.MATERIALUSADO (
       UNIDADES CHAR(10)
     , ID INTEGER NOT NULL
     , ID_M INTEGER NOT NULL
     , PRIMARY KEY (ID, ID_M)
     , CONSTRAINT FK_MATERIALUSADO_1 FOREIGN KEY (ID)
                  REFERENCES DEFAULT_SCHEMA.ORDENDETRABAJO (ID)
     , CONSTRAINT FK_MATERIALUSADO_2 FOREIGN KEY (ID_M)
                  REFERENCES DEFAULT_SCHEMA.MATERIAL (ID_M)
);

